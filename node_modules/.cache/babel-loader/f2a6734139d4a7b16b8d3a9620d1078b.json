{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sachikanta\\\\Downloads\\\\imdb+(2)\\\\imdb\\\\src\\\\components\\\\Movies.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Image from '../banner.jpg';\nimport axios from 'axios';\nimport { Oval } from 'react-loader-spinner';\nimport Pagination from './Pagination';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Movies() {\n  _s();\n\n  const [movies, setMovies] = useState([]);\n  const [page, setPage] = useState(1);\n  const [hover, setHover] = useState('');\n  const [favourites, setFavourites] = useState([]);\n\n  function goAhead() {\n    setPage(page + 1);\n  }\n\n  function goBack() {\n    if (page > 1) {\n      setPage(page - 1);\n    }\n  }\n\n  useEffect(function () {\n    // everytime when page reloads\n    let oldFav = localStorage.getItem(\"imdb\");\n    oldFav = JSON.parse(oldFav) || [];\n    console.log(oldFav); // setFavourites(oldFav);\n    // data manga \n\n    axios.get(`https://api.themoviedb.org/3/trending/movie/week?api_key=5540e483a20e0b20354dabc2d66a31c9&page=${page}`).then(res => {\n      console.table(res.data.results);\n      setMovies(res.data.results);\n    });\n  }, [page]);\n\n  let add = movie => {\n    let newArray = [...favourites, movie];\n    setFavourites([...newArray]); // console.log(newArray)\n    // after for reload \n\n    localStorage.setItem(\"imdb\", JSON.stringify(newArray));\n  };\n\n  let del = movie => {\n    let newArray = favourites.filter(m => m.id != movie.id);\n    setFavourites([...newArray]);\n    localStorage.setItem(\"imdb\", JSON.stringify(newArray));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-8 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-8 mb-8 font-bold text-2xl text-center\",\n        children: \"Trending Movies\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this), movies.length == 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center\",\n        children: /*#__PURE__*/_jsxDEV(Oval, {\n          heigth: \"100\",\n          width: \"100\",\n          color: \"grey\",\n          secondaryColor: \"grey\",\n          ariaLabel: \"loading\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap justify-center\",\n        children: movies.map(movie => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `\n                                    bg-[url(https://image.tmdb.org/t/p/w500/${movie.backdrop_path})] \n                                    md:h-[30vh] md:w-[250px] \n                                    h-[25vh] w-[150px]\n                                    bg-center bg-cover\n                                    rounded-xl\n                                    flex items-end\n                                    m-4\n                                    hover:scale-110\n                                    ease-out duration-300\n                                    relative\n                                `,\n          onMouseEnter: () => {\n            setHover(movie.id);\n          },\n          onMouseLeave: () => setHover(\"\"),\n          children: [hover == movie.id && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: !favourites.find(m => m.id == movie.id) ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute top-2 right-2\\r p-2\\r bg-gray-800\\r rounded-xl\\r text-xl\\r cursor-pointer\\r \",\n              onClick: () => add(movie),\n              children: \"\\uD83D\\uDE0D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 49\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute top-2 right-2\\r p-2\\r bg-gray-800\\r rounded-xl\\r text-xl\\r cursor-pointer\\r \",\n              onClick: () => del(movie),\n              children: \"\\u274C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 49\n            }, this)\n          }, void 0, false), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full bg-gray-900 text-white py-2 font-bold text-center rounded-b-xl\",\n            children: [movie.title, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 33\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n      pageProp: page,\n      goBack: goBack,\n      goAhead: goAhead\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Movies, \"PQaJjNs8pHevzykihmM3o1sbxmU=\");\n\n_c = Movies;\nexport default Movies;\n\nvar _c;\n\n$RefreshReg$(_c, \"Movies\");","map":{"version":3,"sources":["C:/Users/Sachikanta/Downloads/imdb+(2)/imdb/src/components/Movies.js"],"names":["React","useState","useEffect","Image","axios","Oval","Pagination","Movies","movies","setMovies","page","setPage","hover","setHover","favourites","setFavourites","goAhead","goBack","oldFav","localStorage","getItem","JSON","parse","console","log","get","then","res","table","data","results","add","movie","newArray","setItem","stringify","del","filter","m","id","length","map","backdrop_path","find","title"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Image from '../banner.jpg'\r\nimport axios from 'axios'\r\nimport { Oval } from 'react-loader-spinner';\r\nimport Pagination from './Pagination';\r\n\r\nfunction Movies() {\r\n\r\n    const [movies, setMovies] = useState([])\r\n    const [page, setPage] = useState(1)\r\n    const [hover, setHover] = useState('')\r\n    const [favourites, setFavourites] = useState([])\r\n\r\n    function goAhead() {\r\n        setPage(page + 1)\r\n    }\r\n    function goBack() {\r\n        if (page > 1) {\r\n            setPage(page - 1)\r\n        }\r\n    }\r\n    useEffect(function () {\r\n        // everytime when page reloads\r\n        let oldFav = localStorage.getItem(\"imdb\");\r\n        oldFav = JSON.parse(oldFav) || [];\r\n        console.log(oldFav);\r\n        // setFavourites(oldFav);\r\n        // data manga \r\n        axios.get(`https://api.themoviedb.org/3/trending/movie/week?api_key=5540e483a20e0b20354dabc2d66a31c9&page=${page}`).then((res) => {\r\n            console.table(res.data.results)\r\n            setMovies(res.data.results);\r\n        }\r\n        )\r\n\r\n\r\n    }, [page])\r\n\r\n    let add = (movie) => {\r\n        let newArray = [...favourites, movie]\r\n        setFavourites([...newArray])\r\n        // console.log(newArray)\r\n        // after for reload \r\n        localStorage.setItem(\"imdb\", JSON.stringify(newArray))\r\n    }\r\n\r\n    let del = (movie) => {\r\n        let newArray = favourites.filter((m) => m.id != movie.id)\r\n        setFavourites([...newArray])\r\n        localStorage.setItem(\"imdb\", JSON.stringify(newArray))\r\n    }\r\n\r\n    return <>\r\n        <div className=\"mb-8 text-center\">\r\n            <div className=\"mt-8 mb-8 font-bold text-2xl text-center\">Trending Movies</div>\r\n            {\r\n                movies.length == 0 ?\r\n                    <div className='flex justify-center'>\r\n                        <Oval\r\n                            heigth=\"100\"\r\n                            width=\"100\"\r\n                            color='grey'\r\n                            secondaryColor='grey'\r\n                            ariaLabel='loading'\r\n                        />\r\n                    </div> :\r\n                    <div className=\"flex flex-wrap justify-center\">\r\n                        {\r\n                            movies.map((movie) => (\r\n                                <div className={`\r\n                                    bg-[url(https://image.tmdb.org/t/p/w500/${movie.backdrop_path})] \r\n                                    md:h-[30vh] md:w-[250px] \r\n                                    h-[25vh] w-[150px]\r\n                                    bg-center bg-cover\r\n                                    rounded-xl\r\n                                    flex items-end\r\n                                    m-4\r\n                                    hover:scale-110\r\n                                    ease-out duration-300\r\n                                    relative\r\n                                `}\r\n                                    onMouseEnter={() => {\r\n                                        setHover(movie.id)\r\n                                    }}\r\n\r\n                                    onMouseLeave={() =>\r\n                                        setHover(\"\")}\r\n                                >\r\n                                    {\r\n                                        hover == movie.id && <>{\r\n                                            !favourites.find((m) => m.id == movie.id) ?\r\n                                                <div className='absolute top-2 right-2\r\n                                    p-2\r\n                                    bg-gray-800\r\n                                    rounded-xl\r\n                                    text-xl\r\n                                    cursor-pointer\r\n                                    '\r\n                                                    onClick={() => add(movie)}\r\n                                                >😍</div> :\r\n                                                <div className='absolute top-2 right-2\r\n                                    p-2\r\n                                    bg-gray-800\r\n                                    rounded-xl\r\n                                    text-xl\r\n                                    cursor-pointer\r\n                                    '\r\n                                                    onClick={() => del(movie)}\r\n                                                >❌</div>\r\n\r\n                                        }\r\n\r\n\r\n                                        </>\r\n                                    }\r\n\r\n                                    <div className=\"w-full bg-gray-900 text-white py-2 font-bold text-center rounded-b-xl\">{movie.title} </div>\r\n                                </div>\r\n                            ))\r\n                        }\r\n\r\n                    </div>\r\n            }\r\n\r\n        </div>\r\n        <Pagination pageProp={page} goBack={goBack} goAhead={goAhead} />\r\n    </>\r\n}\r\n\r\nexport default Movies;"]},"metadata":{},"sourceType":"module"}