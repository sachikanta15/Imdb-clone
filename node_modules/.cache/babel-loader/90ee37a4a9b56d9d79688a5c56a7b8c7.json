{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sachikanta\\\\Downloads\\\\imdb+(2)\\\\imdb\\\\src\\\\components\\\\Favourites.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Pagination from './Pagination';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Favourites() {\n  _s();\n\n  let genreids = {\n    28: 'Action',\n    12: 'Adventure',\n    16: 'Animation',\n    35: 'Comedy',\n    80: 'Crime',\n    99: 'Documentary',\n    18: 'Drama',\n    10751: 'Family',\n    14: 'Fantasy',\n    36: 'History',\n    27: 'Horror',\n    10402: 'Music',\n    9648: 'Mystery',\n    10749: 'Romance',\n    878: 'Sci-Fi',\n    10770: 'TV',\n    53: 'Thriller',\n    10752: 'War',\n    37: 'Western'\n  };\n  const [curGenre, setCurGenre] = useState('All Genres');\n  const [favourites, setFavourites] = useState([]);\n  const [genres, setGenres] = useState([]);\n  const [rating, setRating] = useState(0);\n  const [popularity, setPopularity] = useState(0);\n  const [search, setSearch] = useState(\"\");\n  const [rows, setRows] = useState(5);\n  const [curPage, setCurPage] = useState(1); // for getting movies \n\n  useEffect(() => {\n    let oldFav = localStorage.getItem(\"imdb\"); // console\n\n    oldFav = JSON.parse(oldFav) || [];\n    console.log(oldFav);\n    setFavourites(oldFav);\n  }, []); //for genres get -> to build those blue/grey buttons\n\n  useEffect(() => {\n    let temp = favourites.map(movie => genreids[movie.genre_ids[0]]);\n    console.log(temp);\n    temp = new Set(temp);\n    setGenres([\"All Genres\", ...temp]);\n  }, [favourites]);\n\n  let del = movie => {\n    let newArray = favourites.filter(m => m.id != movie.id);\n    setFavourites([...newArray]);\n    localStorage.setItem(\"imdb\", JSON.stringify(newArray));\n  }; // filtered movies \n\n\n  let filteredMovies = [];\n  filteredMovies = curGenre == \"All Genres\" ? favourites : favourites.filter(movie => genreids[movie.genre_ids[0]] == curGenre); // sorting \n\n  if (rating == 1) {\n    filteredMovies = filteredMovies.sort(function (objA, objB) {\n      return objA.vote_average - objB.vote_average;\n    });\n  } else if (rating == -1) {\n    filteredMovies = filteredMovies.sort(function (objA, objB) {\n      return objB.vote_average - objA.vote_average;\n    });\n  }\n\n  if (popularity == 1) {\n    filteredMovies = filteredMovies.sort(function (objA, objB) {\n      return objA.popularity - objB.popularity;\n    });\n  } else if (popularity == -1) {\n    filteredMovies = filteredMovies.sort(function (objA, objB) {\n      return objB.popularity - objA.popularity;\n    });\n  } //searching\n\n\n  filteredMovies = filteredMovies.filter(movie => movie.title.toLowerCase().includes(search.toLowerCase())); // pagination\n\n  let maxPage = Math.ceil(filteredMovies.length / rows);\n  let si = (curPage - 1) * rows;\n  let ei = Number(si) + Number(rows);\n  filteredMovies = filteredMovies.slice(si, ei);\n\n  let goBack = () => {\n    if (curPage > 1) {\n      setCurPage(curPage - 1);\n    }\n  };\n\n  let goAhead = () => {\n    if (curPage < maxPage) {\n      setCurPage(curPage + 1);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 px-2 flex justify-center flex-wrap space-x-2\",\n      children: genres.map(genre => /*#__PURE__*/_jsxDEV(\"button\", {\n        className: curGenre == genre ? 'm-2 text-lg p-1 px-2 bg-blue-400 text-white rounded-xl font-bold' : 'm-2 text-lg p-1 px-2 bg-gray-400 hover:bg-blue-400 text-white rounded-xl font-bold',\n        onClick: () => {\n          setCurPage(1);\n          setCurGenre(genre);\n        },\n        children: genre\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: search,\n        onChange: e => setSearch(e.target.value),\n        placeholder: \"Search\",\n        className: \"border border-2 text-center p-1 m-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: rows,\n        onChange: e => setRows(e.target.value),\n        placeholder: \"Rows\",\n        className: \"border border-2 text-center p-1 m-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col m-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"min-w-full divide-y divide-gray-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"bg-gray-50 min-w-full\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                    children: \"Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 131,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex\",\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        src: \"https://img.icons8.com/external-those-icons-lineal-those-icons/24/000000/external-up-arrows-those-icons-lineal-those-icons-3.png\",\n                        className: \"mr-2 cursor-pointer\",\n                        onClick: () => {\n                          setPopularity(0);\n                          setRating(-1);\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 142,\n                        columnNumber: 23\n                      }, this), \"Rating\", /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: \"https://img.icons8.com/external-those-icons-lineal-those-icons/24/000000/external-down-arrows-those-icons-lineal-those-icons-4.png\",\n                        onClick: () => {\n                          setPopularity(0);\n                          setRating(1);\n                        },\n                        className: \"ml-2 mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 149,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 141,\n                      columnNumber: 21\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 137,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex\",\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        src: \"https://img.icons8.com/external-those-icons-lineal-those-icons/24/000000/external-up-arrows-those-icons-lineal-those-icons-3.png\",\n                        onClick: () => {\n                          setRating(0);\n                          setPopularity(-1);\n                        },\n                        className: \"mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 162,\n                        columnNumber: 23\n                      }, this), \"Popularity\", /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: \"https://img.icons8.com/external-those-icons-lineal-those-icons/24/000000/external-down-arrows-those-icons-lineal-those-icons-4.png\",\n                        className: \"ml-2 mr-2\",\n                        onClick: () => {\n                          setRating(0);\n                          setPopularity(1);\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 169,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 161,\n                      columnNumber: 21\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 157,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                    children: \"Genre\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 177,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                    children: \"Remove\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 183,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                className: \"bg-white divide-y divide-gray-200\",\n                children: filteredMovies.map(movie => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-6 py-4 whitespace-nowrap\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex-shrink-0 md:h-[100px] md:w-[180px]\",\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          className: \"hidden md:block md:h-[100px] md:w-[180px]\",\n                          src: `https://image.tmdb.org/t/p/w500/${movie.backdrop_path}`,\n                          alt: \"\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 197,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 196,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"ml-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-sm font-medium text-gray-900 font-bold\",\n                          children: movie.title\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 200,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 199,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 195,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 194,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-6 py-4 whitespace-nowrap\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm text-gray-900\",\n                      children: movie.vote_average\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 205,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-6 py-4 whitespace-nowrap\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm text-gray-900\",\n                      children: movie.popularity\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 208,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-6 py-4 whitespace-nowrap\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800\",\n                      children: genreids[movie.genre_ids[0]]\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 211,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 210,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-6 py-4 whitespace-nowrap text-sm font-medium text-center\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      href: \"#\",\n                      className: \"text-red-600 hover:text-red-900\",\n                      onClick: () => del(movie),\n                      children: \"Delete\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 216,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 215,\n                    columnNumber: 21\n                  }, this)]\n                }, movie.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 19\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4\",\n      children: /*#__PURE__*/_jsxDEV(Pagination, {\n        pageProp: curPage,\n        goBack: goBack,\n        goAhead: goAhead\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Favourites, \"J5Yga/peBCb2p4HrwgKf2qD3GHk=\");\n\n_c = Favourites;\nexport default Favourites;\n\nvar _c;\n\n$RefreshReg$(_c, \"Favourites\");","map":{"version":3,"sources":["C:/Users/Sachikanta/Downloads/imdb+(2)/imdb/src/components/Favourites.js"],"names":["React","useState","useEffect","Pagination","Favourites","genreids","curGenre","setCurGenre","favourites","setFavourites","genres","setGenres","rating","setRating","popularity","setPopularity","search","setSearch","rows","setRows","curPage","setCurPage","oldFav","localStorage","getItem","JSON","parse","console","log","temp","map","movie","genre_ids","Set","del","newArray","filter","m","id","setItem","stringify","filteredMovies","sort","objA","objB","vote_average","title","toLowerCase","includes","maxPage","Math","ceil","length","si","ei","Number","slice","goBack","goAhead","genre","e","target","value","backdrop_path"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Pagination from './Pagination';\r\n\r\nfunction Favourites() {\r\n  let genreids = {\r\n    28: 'Action',\r\n    12: 'Adventure',\r\n    16: 'Animation', 35: 'Comedy', 80: 'Crime', 99: 'Documentary', 18: 'Drama', 10751: 'Family', 14: 'Fantasy', 36: 'History',\r\n    27: 'Horror', 10402: 'Music', 9648: 'Mystery', 10749: 'Romance', 878: 'Sci-Fi', 10770: 'TV', 53: 'Thriller', 10752: 'War', 37: 'Western'\r\n  }\r\n  const [curGenre, setCurGenre] = useState('All Genres');\r\n  const [favourites, setFavourites] = useState([]);\r\n  const [genres, setGenres] = useState([])\r\n  const [rating, setRating] = useState(0)\r\n  const [popularity, setPopularity] = useState(0)\r\n  const [search, setSearch] = useState(\"\")\r\n  const [rows, setRows] = useState(5)\r\n  const [curPage, setCurPage] = useState(1)\r\n  // for getting movies \r\n  useEffect(() => {\r\n    let oldFav = localStorage.getItem(\"imdb\");\r\n    // console\r\n    oldFav = JSON.parse(oldFav) || [];\r\n    console.log(oldFav);\r\n\r\n    setFavourites(oldFav);\r\n  }, [])\r\n\r\n  //for genres get -> to build those blue/grey buttons\r\n  useEffect(() => {\r\n    let temp = favourites.map((movie) => genreids[movie.genre_ids[0]])\r\n    console.log(temp)\r\n    temp = new Set(temp)\r\n    setGenres([\"All Genres\", ...temp]);\r\n  }, [favourites])\r\n\r\n  let del = (movie) => {\r\n    let newArray = favourites.filter((m) => m.id != movie.id)\r\n    setFavourites([...newArray])\r\n    localStorage.setItem(\"imdb\", JSON.stringify(newArray))\r\n  }\r\n  // filtered movies \r\n  let filteredMovies = []\r\n\r\n  filteredMovies = curGenre == \"All Genres\" ? favourites : favourites.filter((movie) => genreids[movie.genre_ids[0]] == curGenre)\r\n  // sorting \r\n  if (rating == 1) {\r\n    filteredMovies = filteredMovies.sort(function (objA, objB) {\r\n      return objA.vote_average - objB.vote_average\r\n    })\r\n  } else if (rating == -1) {\r\n    filteredMovies = filteredMovies.sort(function (objA, objB) {\r\n      return objB.vote_average - objA.vote_average\r\n    })\r\n  }\r\n\r\n  if (popularity == 1) {\r\n    filteredMovies = filteredMovies.sort(function (objA, objB) {\r\n      return objA.popularity - objB.popularity\r\n    })\r\n  } else if (popularity == -1) {\r\n    filteredMovies = filteredMovies.sort(function (objA, objB) {\r\n      return objB.popularity - objA.popularity\r\n    })\r\n  }\r\n\r\n  //searching\r\n  filteredMovies = filteredMovies.filter((movie) =>\r\n    movie.title.toLowerCase().includes(search.toLowerCase())\r\n  )\r\n\r\n  // pagination\r\n  let maxPage = Math.ceil(filteredMovies.length / rows);\r\n  let si = (curPage - 1) * rows\r\n  let ei = Number(si) + Number(rows)\r\n\r\n  filteredMovies = filteredMovies.slice(si, ei);\r\n\r\n  let goBack = () => {\r\n    if (curPage > 1) {\r\n      setCurPage(curPage - 1)\r\n    }\r\n  }\r\n\r\n  let goAhead = () => {\r\n    if (curPage < maxPage) {\r\n      setCurPage(curPage + 1)\r\n    }\r\n  }\r\n\r\n  return <>\r\n    <div className='mt-4 px-2 flex justify-center flex-wrap space-x-2'>\r\n      {\r\n        genres.map((genre) =>\r\n          <button className={\r\n            curGenre == genre ?\r\n              'm-2 text-lg p-1 px-2 bg-blue-400 text-white rounded-xl font-bold' :\r\n              'm-2 text-lg p-1 px-2 bg-gray-400 hover:bg-blue-400 text-white rounded-xl font-bold'\r\n          }\r\n            onClick={() => {\r\n              setCurPage(1)\r\n              setCurGenre(genre)\r\n            }\r\n            }\r\n          >\r\n            {genre}\r\n          </button>\r\n        )\r\n      }\r\n\r\n      {/* <button className={\r\n        curGenre == \"Action\" ?\r\n          'm-2 text-lg p-1 px-2 bg-blue-400 text-white rounded-xl font-bold' :\r\n          'm-2 text-lg p-1 px-2 bg-gray-400 hover:bg-blue-400 text-white rounded-xl font-bold'\r\n      }>\r\n        Action\r\n      </button> */}\r\n    </div>\r\n    <div className='text-center'>\r\n      <input type=\"text\" value={search} onChange={(e) => setSearch(e.target.value)} placeholder='Search' className='border border-2 text-center p-1 m-2' />\r\n      <input type=\"number\" value={rows} onChange={(e) => setRows(e.target.value)} placeholder='Rows' className='border border-2 text-center p-1 m-2' />\r\n    </div>\r\n\r\n    <div className=\"flex flex-col m-4\">\r\n      <div className=\"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8\">\r\n        <div className=\"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8\">\r\n          <div className=\"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg\">\r\n            <table className=\"min-w-full divide-y divide-gray-200\">\r\n              <thead className=\"bg-gray-50 min-w-full\">\r\n                <tr>\r\n                  <th\r\n                    scope=\"col\"\r\n                    className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\r\n                  >\r\n                    Name\r\n                  </th>\r\n                  <th\r\n                    scope=\"col\"\r\n                    className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\r\n                  >\r\n                    <div className='flex'>\r\n                      <img src='https://img.icons8.com/external-those-icons-lineal-those-icons/24/000000/external-up-arrows-those-icons-lineal-those-icons-3.png' className='mr-2 cursor-pointer'\r\n                        onClick={() => {\r\n                          setPopularity(0)\r\n                          setRating(-1)\r\n                        }}\r\n                      />\r\n                      Rating\r\n                      <img src='https://img.icons8.com/external-those-icons-lineal-those-icons/24/000000/external-down-arrows-those-icons-lineal-those-icons-4.png'\r\n                        onClick={() => {\r\n                          setPopularity(0)\r\n                          setRating(1)\r\n                        }}\r\n                        className='ml-2 mr-2' />\r\n                    </div>\r\n                  </th>\r\n                  <th\r\n                    scope=\"col\"\r\n                    className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\r\n                  >\r\n                    <div className='flex'>\r\n                      <img src='https://img.icons8.com/external-those-icons-lineal-those-icons/24/000000/external-up-arrows-those-icons-lineal-those-icons-3.png'\r\n                        onClick={() => {\r\n                          setRating(0)\r\n                          setPopularity(-1)\r\n                        }}\r\n                        className='mr-2' />\r\n                      Popularity\r\n                      <img src='https://img.icons8.com/external-those-icons-lineal-those-icons/24/000000/external-down-arrows-those-icons-lineal-those-icons-4.png' className='ml-2 mr-2'\r\n                        onClick={() => {\r\n                          setRating(0)\r\n                          setPopularity(1)\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  </th>\r\n                  <th\r\n                    scope=\"col\"\r\n                    className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\r\n                  >\r\n                    Genre\r\n                  </th>\r\n                  <th\r\n                    scope=\"col\"\r\n                    className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\r\n                  >\r\n                    Remove\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                {filteredMovies.map((movie) => (\r\n                  <tr key={movie.id}>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"flex items-center\">\r\n                        <div className=\"flex-shrink-0 md:h-[100px] md:w-[180px]\">\r\n                          <img className=\"hidden md:block md:h-[100px] md:w-[180px]\" src={`https://image.tmdb.org/t/p/w500/${movie.backdrop_path}`} alt=\"\" />\r\n                        </div>\r\n                        <div className=\"ml-4\">\r\n                          <div className=\"text-sm font-medium text-gray-900 font-bold\">{movie.title}</div>\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"text-sm text-gray-900\">{movie.vote_average}</div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"text-sm text-gray-900\">{movie.popularity}</div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <span className=\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800\">\r\n                        {genreids[movie.genre_ids[0]]}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-center\">\r\n                      <button href=\"#\" className=\"text-red-600 hover:text-red-900\"\r\n                        onClick={() => del(movie)}\r\n                      >\r\n                        Delete\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    {/* <div>Inputs Container</div> */}\r\n    {/* <div>Table Container</div> */}\r\n    {/* <div>Pagination</div> */}\r\n    <div className='mt-4'>\r\n\r\n      <Pagination pageProp={curPage} goBack={goBack} goAhead={goAhead} />\r\n    </div>\r\n  </>;\r\n}\r\n\r\nexport default Favourites;\r\n"]},"metadata":{},"sourceType":"module"}